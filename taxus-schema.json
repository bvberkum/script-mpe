{"allOf": [{"$ref": "http://json-schema.org/draft-04/schema#"}], "additionalProperties": false, "$schema": "http://json-schema.org/draft-04/schema#", "required": ["$schema"], "type": "object", "properties": {"$schema": {"type": "string", "name": "$schema"}, "$ref": {"type": "string", "name": "$ref"}, "schema": {"additionalProperties": false, "required": ["name", "models"], "type": "object", "name": "schema", "properties": {"models": {"$ref": "#/_/schema/models"}, "name": {"$ref": "#/_/name"}}}}, "_": {"index": {"additionalProperties": false, "type": "object", "properties": {"fields": {"type": "string", "name": "fields"}, "type": {"enum": ["normal", "unique", "primary"], "type": "string", "name": "type"}, "name": {"$ref": "#/_/name"}}}, "name": {"minLength": 1, "required": true, "type": "string", "name": "name", "maxLength": 36}, "relation_type": {"enum": ["one-to-one", "one-to-many", "many-to-many"], "type": "string"}, "field": {"additionalProperties": false, "type": "object", "properties": {"required": {"type": "boolean", "name": "required"}, "type": {"name": "type", "$ref": "#/_/column_types"}, "name": {"$ref": "#/_/name"}}}, "relation": {"additionalProperties": false, "type": "object", "properties": {"to": {"type": "string", "name": "to"}, "from": {"type": "string", "name": "from"}, "name": {"$ref": "#/_/name"}, "type": {"name": "type", "$ref": "#/_/relation_type"}}}, "model_types": {"enum": ["Mixin", "Abstract"], "type": "string"}, "column_types": {"required": true, "type": "string", "enum": ["Integer", "DateTime", "Boolean", "String", "Text"]}, "model": {"additionalProperties": false, "type": "object", "properties": {"name": {"$ref": "#/_/name"}, "fields": {"items": [{"$ref": "#/_/field"}], "type": "array", "name": "fields"}, "mixins": {"items": [{"type": "string"}], "type": "array", "name": "mixins"}, "relations": {"items": [{"$ref": "#/_/relation"}], "type": "array", "name": "relations"}, "extends": {"type": "string", "name": "extends"}, "indices": {"items": [{"$ref": "#/_/index"}], "type": "array", "name": "indices"}, "table": {"type": "string", "name": "table"}, "type": {"name": "type", "$ref": "#/_/model_types"}}}, "schema": {"models": {"items": [{"$ref": "#/_/model"}], "type": "array", "name": "models"}}}}
